@import url("https://fonts.googleapis.com/css2?family=Amatic+SC&family=Barlow+Condensed&family=Oswald:wght@200..700&family=Roboto+Slab:wght@100..900&display=swap");

*,
*::before,
*::after {
  box-sizing: border-box;
  position: relative;
}

:root {
  --color-tan: #C1B9A8;
  --color-green: #4F735B;
  --color-gold: #AC8B12;
  --color-purple: #8D7576;
  --color-red: #A63C30;
  --color-slate: #5B6B73;
  --color-forest: #5C7A63;
  --color-olive: #6A6B3D;
  --color-ochre: #9A6B1F;
  --color-rust: #8B3F2C;
  --color-berry: #8B4A63;
  --color-plum: #77568A;
  --color-indigo: #5C6CB0;
  --color-navy: #4B5E7A;
  --color-teal: #4A857D;
  --color-cypress: #4C6B5F;
  --color-moss: #5A6E4F;
  --color-brick: #944949;
  --color-copper: #8E5A2A;
  --color-smoke: #6A7078;
  --color-cobalt: #4B6A98;
  --color-aubergine: #6A4564;
  --color-mulberry: #744A6F;
  --color-sea: #4A7484;
  --color-link: #A63C30;
  --color-link-hover: #4F735B;
  --nav-item-offset: 3vw;
  --nav-item-hover-offset: 2%;
  --easing: cubic-bezier(.8, 0, .2, 1);
  --duration: .6s;
  font-family: "Barlow Condensed", sans-serif;
}

.bar-navigation {
  height: 100vh;
  width: 100vw;
  background-color: var(--color-tan);
  display: grid;
  grid-template-rows: 100%;
  overflow: hidden;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: var(--color-tan);
}

body, html {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
  overflow-x: hidden;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;
}

a {
    text-decoration: none;
    color: var(--color-link);
    outline: none;
}

a:hover {
    color: var(--color-link-hover);
    outline: none;
}

.link {
    cursor: pointer;
    position: relative;
    white-space: nowrap;
}

.link::before,
.link::after {
    position: absolute;
    width: 100%;
    height: 1px;
    background: currentColor;
    top: 100%;
    left: 0;
    pointer-events: none;
}

.link::before {
    content: '';
    /* show by default */
}

.link--elara::before {
    transform-origin: 50% 100%;
    transition: clip-path 0.3s, transform 0.3s cubic-bezier(0.2, 1, 0.8, 1);
    clip-path: polygon(0% 0%, 0% 100%, 0 100%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%, 100% 100%, 100% 0%);
}

.link--elara:hover::before {
    transform: translate3d(0, 2px, 0) scale3d(1.08, 3, 1);
    clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 50% 0, 50% 0, 50% 100%, 50% 100%, 0 100%, 100% 100%, 100% 0%);
}

.link--elara span {
    display: inline-block;
    transition: transform 0.3s cubic-bezier(0.2, 1, 0.8, 1);
}

.link--elara:hover span {
    transform: translate3d(0, -2px, 0);
}

.container {
  position: relative;
  background-color: var(--color-tan);
  height: 100%;
}

.title {
  position: absolute;
  text-align: right;
  top: 10vh;
  right: 5vw;
  font-family: "Amatic SC", serif;
  font-size: 10vmin;
  color: black;
}

.subtext {
  position: absolute;
  text-align: right;
  width: 30vw;
  top: 25vh;
  right: 5vw;
  font-family: "Roboto Slab", serif;
  font-size: 3vmin;
  color: black;
  margin-top: 2rem;
}

.nav-list,
.nav-item {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.nav-list {
  grid-row: 1/-1;
  display: grid;
  height: 100%;
  counter-reset: list;
}

.nav-item {
  --tx: calc(-100% + var(--nav-item-offset));
  display: grid;
  grid-template-columns: 1fr 20% auto;
  position: absolute;
  background-color: var(--color);
  height: 100%;
  width: calc(100% - var(--total) * var(--nav-item-offset) + var(--nav-item-offset));
  transition: transform var(--duration) var(--easing);
  margin-left: calc(var(--i) * var(--nav-item-offset));
  overflow: hidden;
  transform: translateX(var(--tx));
  z-index: calc(var(--total) - var(--i));
  padding-right: 0;
  -webkit-animation: slide-down .7s cubic-bezier(0.5, 0, 0.3, 1);
          animation: slide-down .7s cubic-bezier(0.5, 0, 0.3, 1);
  -webkit-animation-delay: calc(var(--i) * .12s);
          animation-delay: calc(var(--i) * .12s);
  -webkit-animation-fill-mode: backwards;
          animation-fill-mode: backwards;
}

.nav-item:hover:not(:focus) {
  filter: brightness(1.2);
}
.nav-item:focus {
  outline: none;
}
.nav-item:focus,
.nav-item:focus-within,
.nav-item.is-open {
  transform: translateX(0vw);
}
.nav-item:focus ~ .nav-item,
.nav-item:focus-within ~ .nav-item,
.nav-item.is-open ~ .nav-item {
  transform: none;
}

.nav-item:before {
  counter-increment: list;
  content: counter(list, decimal-leading-zero);
  font-family: "Amatic SC", serif;
  font-weight: 900;
  display: block;
  grid-column: 3/4;
  font-size: 3vmin;
  padding-right: 1vw;
  text-align: right;
  justify-self: end;
  width: 100%;
  padding-top: 5vh;
  mix-blend-mode: soft-light;
  z-index: 1;
}

.nav-item:after {
  width: 100%;
  height: 100%;
  transform: translateX(-1vw);
  transition: transform var(--easing) var(--duration);
}

.nav-item .topic {
  font-family: "Oswald", sans-serif;
  position: absolute;
  bottom: 5vh;
  right: 0.5vw;
  font-size: 2.5vmin;
  mix-blend-mode: soft-light;
  writing-mode: vertical-lr;
}

.post-title {
  font-family: "Oswald", sans-serif;
  font-size: 3.2vmin;
  margin: 10vh 1vw 2vh 5vw;
  line-height: 1.1;
  grid-column: 1 / 2;
  grid-row: 1 / 7;
}

.post-content {
  font-family: "Roboto Slab", serif;
  font-size: 2.1vmin;
  width: 90%;
  line-height: 1.5;
  margin-left: 5vw;
  padding-right: 1vw;
  max-height: 70vh;
  overflow-y: auto;
  grid-column: 1 / 2;
  grid-row: 4 / 8;
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

.post-content::-webkit-scrollbar {
  display: none;
}

.post-figure {
  display: block;
  width: 100%;
  height: auto;
  margin: 0 0 2vh 0;
  cursor: zoom-in;
}

.figure-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 999;
  padding: 4vh 4vw;
  gap: 2rem;
}

.figure-modal.is-open {
  display: flex;
}

.figure-modal-image {
  max-width: 80vw;
  max-height: 70vh;
  width: auto;
  height: auto;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

.figure-close {
  position: relative;
  background: rgba(255, 255, 255, 0.85);
  border: none;
  border-radius: 999px;
  width: 42px;
  height: 42px;
  font-size: 26px;
  line-height: 1;
  cursor: pointer;
}

.figure-download {
  position: relative;
  background: rgba(255, 255, 255, 0.85);
  color: #111;
  text-decoration: none;
  padding: 8px 14px;
  border-radius: 20px;
  font-size: 14px;
  font-family: "Oswald", sans-serif;
}

.figure-modal-code {
  position: relative;
  background: rgba(255, 255, 255, 0.85);
  color: #111;
  text-decoration: none;
  padding: 8px 14px;
  border-radius: 20px;
  font-size: 14px;
  font-family: "Oswald", sans-serif;
  display: inline-block;
}

.post-date {
  display: inline-block;
  font-size: 1.6vmin;
  letter-spacing: 0.08em;
}

@-webkit-keyframes slide-up {
  from {
    transform: translateY(130%);
  }
  to {
    transform: translateY(0);
  }
}
@keyframes slide-up {
  from {
    transform: translateY(130%);
  }
  to {
    transform: translateY(0);
  }
}

@-webkit-keyframes slide-down {
  from {
    transform: translateY(-100%) translateX(var(--tx));
    pointer-events: none;
  }
  to {
    transform: translateY(0) translateX(var(--tx));
    pointer-events: none;
  }
}
@keyframes slide-down {
  from {
    transform: translateY(-100%) translateX(var(--tx));
    pointer-events: none;
  }
  to {
    transform: translateY(0) translateX(var(--tx));
    pointer-events: none;
  }
}

header {
  border-bottom: 1px solid #222;
  margin-bottom: 1rem;
}

footer {
  border-top: 1px solid #222;
  margin-top: 1rem;
}
/* Responsive Design - Media Queries */

/* Tablet and smaller screens */
@media screen and (max-width: 1024px) {
  :root {
    --nav-item-offset: 4vw;
  }

  .title {
    font-size: 12vmin;
    right: 4vw;
  }

  .subtext {
    width: 40vw;
    font-size: 3.5vmin;
    right: 4vw;
  }

  .post-title {
    font-size: 3.5vmin;
    margin: 8vh 1vw 2vh 4vw;
  }

  .post-content {
    font-size: 2.3vmin;
    margin-left: 4vw;
  }

  .nav-item .topic {
    font-size: 2.8vmin;
  }
}

/* Mobile devices */
@media screen and (max-width: 768px) {
  :root {
    --nav-item-offset: 5vw;
  }

  .bar-navigation {
    touch-action: pan-y;
  }

  .title {
    font-size: 15vmin;
    top: 8vh;
    right: 3vw;
  }

  .subtext {
    width: 55vw;
    font-size: 4vmin;
    top: 22vh;
    right: 3vw;
  }

  .nav-item {
    grid-template-columns: 1fr 15% auto;
  }

  .post-title {
    font-size: 4.5vmin;
    margin: 6vh 1vw 2vh 3vw;
  }

  .post-content {
    font-size: 3vmin;
    margin-left: 3vw;
    max-height: 65vh;
    line-height: 1.6;
  }

  .nav-item:before {
    font-size: 4vmin;
    padding-right: 0.5vw;
  }

  .nav-item .topic {
    font-size: 3.5vmin;
    bottom: 4vh;
  }

  .post-date {
    font-size: 2.5vmin;
  }

  .figure-modal {
    padding: 2vh 2vw;
  }

  .figure-modal-image {
    max-width: 90vw;
    max-height: 60vh;
  }

  .figure-close {
    width: 38px;
    height: 38px;
    font-size: 24px;
  }

  .figure-download,
  .figure-modal-code {
    font-size: 12px;
    padding: 6px 12px;
  }
}

/* Small mobile devices */
@media screen and (max-width: 480px) {
  :root {
    --nav-item-offset: 6vw;
  }

  .title {
    font-size: 18vmin;
    top: 6vh;
    right: 2vw;
  }

  .subtext {
    width: 65vw;
    font-size: 4.5vmin;
    top: 20vh;
    right: 2vw;
  }

  .nav-item {
    grid-template-columns: 1fr 12% auto;
  }

  .post-title {
    font-size: 5.5vmin;
    margin: 5vh 0.5vw 2vh 2vw;
  }

  .post-content {
    font-size: 3.5vmin;
    margin-left: 2vw;
    max-height: 60vh;
    line-height: 1.7;
    width: 95%;
  }

  .nav-item:before {
    font-size: 4.5vmin;
    padding-right: 0.3vw;
  }

  .nav-item .topic {
    font-size: 4vmin;
    bottom: 3vh;
    right: 0.3vw;
  }

  .post-date {
    font-size: 3vmin;
  }

  .figure-modal {
    padding: 1vh 1vw;
    gap: 1rem;
  }

  .figure-modal-image {
    max-width: 95vw;
    max-height: 55vh;
  }

  .figure-close {
    width: 36px;
    height: 36px;
    font-size: 22px;
  }

  .figure-download,
  .figure-modal-code {
    font-size: 11px;
    padding: 5px 10px;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .nav-item {
    cursor: pointer;
  }

  .nav-item:hover:not(:focus) {
    filter: none;
  }

  .post-figure {
    cursor: pointer;
  }

  /* Larger tap targets for touch */
  .figure-close {
    min-width: 44px;
    min-height: 44px;
  }

  .figure-download,
  .figure-modal-code {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
}

/* Landscape orientation on mobile */
@media screen and (max-width: 768px) and (orientation: landscape) {
  .title {
    top: 5vh;
    font-size: 10vmin;
  }

  .subtext {
    top: 15vh;
    font-size: 3vmin;
  }

  .post-title {
    margin: 4vh 1vw 1vh 3vw;
    font-size: 3.8vmin;
  }

  .post-content {
    max-height: 50vh;
    font-size: 2.5vmin;
  }
}